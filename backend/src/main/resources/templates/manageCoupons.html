{{>adminHeader}}
        <!-- Section-->
        <section class="py-5">
            <div class="container">
                <!-- Table-->
                <div class="row">
                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">coupon ID</th>
                            <th scope="col">Name</th>
                            <th scope="col">Type</th>
                            <th scope="col">Start Date</th>
                            <th scope="col">Date of Expiry</th>
                            <th scope="col">Minimum</th>
                            <th scope="col">Discount</th>
                            <th scope="col">Affected product</th>
                            <th scope="col"></th>
                            <th scope="col"></th>
                          </tr>
                        </thead>
                        <tbody>
                            {{#coupons}}
                            <tr id="coupon-{{id}}">
                                <td scope="row" class="coupon-id">{{id}}</td>
                                <td class="coupon-name">{{code}}</td>
                                <td class="coupon-type">{{type}}</td>
                                <td class="coupon-startDate">{{startDate}}</td>
                                <td class="coupon-dateOfExpiry">{{dateOfExpiry}}</td>
                                <td class="coupon-minimum">{{#minimum}}{{minimum}}{{/minimum}}
                                    {{^minimum}}0{{/minimum}}</td>
                                <td class="coupon-discound">{{#discount}}{{discount}}{{/discount}}
                                    {{^discount}}0{{/discount}}</td>
                                
                                <td class="coupon-affectedUser">
                                    {{#affectedProducts}}
                                        <ul>
                                            <li style="list-style: none;">#{{this.id}} - {{this.name}}</li>
                                        </ul>
                                    {{/affectedProducts}}
                                    {{^affectedProducts}}
                                        All
                                    {{/affectedProducts}}
                                </td>
                                
                                <td><button class="btn btn-primary" type="button" data-bs-toggle="modal" data-bs-target="#modalAddEditCouponData"
                                    data-id="{{id}}" onclick="edit_coupon_load($(this).data('id'));"><i class="fa fa-pencil" aria-hidden="true"></i></button></td>
                                <td><button data-id="{{id}}" onclick="delete_coupon($(this).data('id'));" class="btn btn-primary" type="button"><i class="fa fa-trash" aria-hidden="true"></i></button></td>
                            </tr>
                            {{/coupons}}
                        </tbody>
                    </table>
                </div>

                <div class="row justify-content-start">
                    <button class="btn btn-primary" id="button-add-coupon" type="button" data-bs-toggle="modal" data-bs-target="#modalAddEditCouponData">Add Coupon</button>
                </div>

                <!-- modal add / edit coupon data-->
                <div class="modal fade" id="modalAddEditCouponData" tabindex="-1" role="dialog" aria-labelledby="modalAddEditCoupon" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="modalAddEditCoupon">Edit Coupon Data</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <form id="formCoupons">
                                <div class="modal-body">
                                        <input type="hidden" id="mode" name="mode">
                                        <input type="hidden" id="editId" name="id">

                                        <div class="form-group">
                                            <label for="editCouponName">Couponname *</label>
                                            <input type="text" class="form-control" id="editCouponName" placeholder="Couponname" name="Couponname" required>                
                                        </div>
                                        <div class="form-group">
                                            <label for="editPassword">Password *</label>
                                            <input type="password" class="form-control" id="editPassword" placeholder="Type new password" name="password">                
                                        </div>
                                        <div class="form-group">
                                            <label for="editEmail">E-mail *</label>
                                            <input type="text" class="form-control" id="editEmail" placeholder="e-mail" name="email" required>                
                                        </div>
                                        <div class="form-group">
                                            <label for="editName">First Name</label>
                                            <input type="text" class="form-control" id="editName" placeholder="First Name" name="name">                
                                        </div>
                                        <div class="form-group">
                                            <label for="editLastName">Last Name</label>
                                            <input type="text" class="form-control" id="editLastName" placeholder="Last Name" name="lastName">                
                                        </div>
                                        <div class="form-group">
                                            <label for="editAddress">Address</label>
                                            <input type="text" class="form-control" id="editAddress" placeholder="Address" name="address">                
                                        </div>
                                        <div class="form-group">
                                            <label for="editPhone">Phone Number</label>
                                            <input type="tel" class="form-control" id="editPhone" placeholder="Phone Number" name="mobileNumber">                
                                        </div>
                                        <div class="form-group">
                                            <label for="editBirthDate">Birth Date</label>
                                            <input type="text" class="form-control" id="editBirthDate" placeholder="Birth Date" name="birthdate">                
                                        </div>
                                        <div class="form-group">
                                            <label for="editRole">Role *</label>
                                            <select id="editRole" name="role" class="form-control" required>
                                                <option value="Coupon">Coupon</option>
                                                <option value="ADMIN">ADMIN</option>
                                            </select>                
                                        </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" id="dismiss-modal-coupons" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary">Save</button>
                                </div>    
                            </form>
                        </div>
                    </div>
                </div>
            </div>        
        </section>

        <!-- <script src="../js/manageCoupons.js" defer></script> -->
{{>footer}}